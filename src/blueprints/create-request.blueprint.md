1. USER LOGGED IN CHECK

IF USER IS LOGGED IN

2. USERNAME PROVIDED CHECK

IF USERNAME IS PROVIDED

3. USER EXISTENCE CHECK

IF TARGET USER EXISTS AND SENDER USER EXISTS

4. SENDER ID RETRIEVAL

GET SENDER ID FROM SESSION

5. EXISTING REQUEST CHECK

IF NO REQUEST EXISTS WHERE FROM = SENDER AND TO = RECEIVER

6. FRIENDSHIP CHECK

IF RECEIVER.FRIENDS DOES NOT INCLUDE SENDER

7. PENDING REQUEST CHECK

IF RECEIVER.REQUESTS DOES NOT INCLUDE SENDER

8. CREATE NEW REQUEST

CREATE A NEW REQUEST DOCUMENT

FROM = SENDER

TO = RECEIVER

STATUS = PENDING

PUSH NEW REQUEST ID INTO RECEIVER.REQUESTS

9. ALREADY REQUESTED

ELSE RETURN FRIEND REQUEST ALREADY SENT AND PENDING

10. ALREADY FRIENDS

ELSE RETURN ALREADY FRIENDS

11. SENDER ID NOT FOUND

IF SENDER ID NOT FOUND, RETURN NO SENDER ID FOUND

12. USER NOT FOUND

IF USER DOES NOT EXIST, RETURN NO USER FOUND

13. USERNAME NOT PROVIDED

IF USERNAME NOT PROVIDED, RETURN NO USERNAME PROVIDED

14. NO SERVER SESSION

IF USER IS NOT LOGGED IN, RETURN NO SERVER SESSION FOUND
